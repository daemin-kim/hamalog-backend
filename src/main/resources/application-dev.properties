# Development Environment Configuration
# This configuration file is used for development environment.
# Unlike production, additional logging is enabled for debugging.

spring.profiles.active=dev

# Database Configuration - Uses environment variables from docker-compose-dev.yml
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# OAuth2 Kakao Configuration - Set via environment variables
spring.security.oauth2.client.registration.kakao.client-id=${KAKAO_CLIENT_ID}
spring.security.oauth2.client.registration.kakao.client-secret=${KAKAO_CLIENT_SECRET}
spring.security.oauth2.client.registration.kakao.redirect-uri=${KAKAO_REDIRECT_URI}

# JWT Configuration - Set via environment variables or use defaults
jwt.secret=${JWT_SECRET}
jwt.expiry=${JWT_EXPIRY:1800000}
jwt.refresh-token.expiry=${JWT_REFRESH_TOKEN_EXPIRY:604800000}

# Data encryption key - Set via environment variables
hamalog.encryption.key=${HAMALOG_ENCRYPTION_KEY}

# Swagger UI enabled in development
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true

# Redis Configuration
spring.data.redis.host=${SPRING_DATA_REDIS_HOST}
spring.data.redis.port=${SPRING_DATA_REDIS_PORT:6379}
spring.data.redis.password=${SPRING_DATA_REDIS_PASSWORD}

# CORS Configuration - Development friendly
hamalog.cors.allowed-origins=${ALLOWED_ORIGINS:http://localhost:3000,http://localhost:8080}

# OAuth2 redirect URI
hamalog.oauth2.redirect-uri=${FRONTEND_URL:http://localhost:3000}/oauth/kakao

# Actuator - Full access in development
management.endpoints.web.exposure.include=health,info,metrics,env,beans
management.endpoint.health.show-details=always

# Logging - Verbose for debugging
logging.level.root=INFO
logging.level.com.Hamalog=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql=DEBUG

# Error details - Enabled for debugging
server.error.include-stacktrace=always
server.error.include-message=always
server.error.include-binding-errors=always

# Forward Headers Strategy
server.forward-headers-strategy=native

# Bot Protection - Disabled in development for easier testing
hamalog.security.bot-protection.enabled=${BOT_PROTECTION_ENABLED:false}
hamalog.security.bot-protection.log-blocked=${BOT_PROTECTION_LOG_BLOCKED:true}

