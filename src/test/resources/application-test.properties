# Test Database Configuration
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
logging.level.org.hibernate.SQL=warn
logging.level.org.hibernate.type.descriptor.sql=warn

# Transaction Configuration for Tests
# Set default transaction timeout to 30 seconds to prevent infinite transactions in tests
spring.transaction.default-timeout=30

# Disable AOP for tests to avoid interference
app.aop.global-enabled=false
app.aop.audit.enabled=false
app.aop.cache.enabled=false

jwt.secret=xcrVqYlPMcLeEoEX+h8vjxZ97lS6AETwQJXJSLJ/h8g=
jwt.expiry=3600000
jwt.refresh-token.expiry=604800000

spring.security.oauth2.client.registration.kakao.client-id=dummy-client-id-for-test
spring.security.oauth2.client.registration.kakao.client-secret=dummy-client-secret-for-test
spring.security.oauth2.client.registration.kakao.redirect-uri=http://localhost:8080/oauth2/auth/kakao/callback

hamalog.encryption.key=+ZFRGoRl5CElrJfikdx1TmzQ3U8OJ+J6im5OMjuvsqE=
hamalog.oauth2.redirect-uri=http://localhost:3000/oauth/kakao

server.url=http://localhost:8080
server.description=Test Server

hamalog.cors.allowed-origins=http://localhost:3000,http://localhost:8080
hamalog.security.allowed-domains=kauth.kakao.com,kapi.kakao.com
hamalog.security.request.max-size-mb=10
hamalog.security.request.warn-size-mb=5
hamalog.security.request.monitoring-enabled=true

app.retry.default-attempts=3
app.retry.default-delay=1000
app.retry.max-delay=10000

hamalog.upload.image-dir=/tmp/hamalog/images
spring.cloud.vault.enabled=false
