## 1. 프로젝트 개요

- **프로젝트명**: 흑백문고
- **개발 기간**: 2024.10 ~ 2024.12
- **수행 방식**: 부트캠프 프로젝트
- **담당 범위**: 백엔드
- **배포 현황**: 배포 중단
    - GitHub: https://github.com/nhnacademy-be7-heukbaekbook
- **기술 스택**: Java, Spring, Spring boot, Spring Cloud(Gateway, Netflex, Config, OpenFeign), JPA
  MySQL, Redis, NHN cloud, Github, Github action, SonarQube

---

## 2. 요구사항 및 나의 역할

### 💼 개요

> 도서를 구매하는데 필요한 기본적인 기능들을 모두 구현한 완성형 서점 서비스 제공
>

### 📌 요구사항 요약

- 사용자: 도서 검색(제목, 카테고리, 태그), 도서 정보 확인, 주문(회원, 비회원), 장바구니, 회원 전용 쿠폰,
  멤버쉽 등급에 따른 포인트 지급, 배송조회, 리뷰 작성 등
- 관리자: 도서 등록, 출판사 등록, 저자 등록, 주문 상태 변경 등

### 👨‍💻 담당 역할

- 도서 CRUD, 알라딘 Api를 활용한 도서 등록 구현
- 카테고리, 출판사, 태그, 기여자 CRUD 구현
- Toss payments를 활용한 결제, 결제 취소, 환불 신청 및 내역 조회 구현
- ERD 설계 및 전체 엔티티 설계 담당
- 일일 스크럼에서 논의한 내용을 취합해 문서화하여 팀원에게 공유

---

## 3. 기술 스택 및 아키텍처

| 항목 | 사용 기술 / 라이브러리 |
| --- | --- |
| 언어 | Java 21.0.5 LTS / Eclipse Temurin |
| 빌드 도구 | Maven |
| 개발 | Spring Framework (6.1.13) 
Spring Boot (3.3.4)
Spring Cloud Spring Cloud Gateway
Spring Cloud Netflex (eureka) Spring Cloud Config
Spring Cloud Config Server
Spring Cloud OpenFeign
JPA, Querydsl |
| 테스트 환경 | Jnit 5 / AssertJ / Mokito / SonarQube |
| 데이터베이스 | MySQL (8.0.37) / Redis |
| 검색 엔진 | Elastic Search (8.6.2) |
| 모델링(ERD) | ERD Cloud |
| CI/CD | Github Action |
| 협업 도구 | GitHub Project |
| 배포 | NHN Cloud - Instance, Secure Key Manager,
Image Manager, Load Balancer |
| 기타 | Message Queue: RabbitMQ
UI: Thymeleaf, CSS, JavaScript |

### 📐 아키텍처 특징

- MSA 구조를 채택하려 클라이언트 요청을 앞단에 nginx를 두고 Round Robin 방식으로
  프론트서버에 로드밸런싱
- Blue Green 방식으로 백엔드 서버 무중단 배포 구현
- 분산 환경에서 여러 애플리케이션 인스턴스가 동일한 세션 데이터를 유지하기 위해
  Spring Session Redis 사용
- Config Server를 구축 및 연결하여 서버 연결 비대칭키 암호화, 어플리케이션 실행 구성 파일 중앙 관리

---

## 4. 주요 기능

| 기능 | 설명 |
| --- | --- |
| 🔐 로그인/회원가입 | Spring Security를 이용한 권한별 접근 제어, JWT 토근 기반 로그인, OAuth2.0 적용(Payco) |
| 📖 도서 | 사용자는 도서 소개, 목차, 가격 등 정보를 확인할 수 있고 구매할 수 있다. |
| 📤 주문 | 사용자는 도서를 바로 구매하거나 장바구니에 담아 구매할 수 있으며 간편결제를 사용한다.
사용자는 주문한 도서에 한해 리뷰를 작성할 수 있다. |
| 🔍 검색 | 사용자는 도서의 제목 및 카테고리, 태그로 도서를 검색할 수 있다. |
| 🗣️ 마이페이지 | 회원은 자신의 개인정보 및 주소록 등을 수정할 수 있으며 주문 내역에서 배송조회를 할 수 있다. |
| 📊 관리자 화면 | 관리자는 알라딘 api를 통해 도서를 조회해 사이트에 등록할 수 있으며, 출판사, 저자에 대한 
정보를 관리하고 주문 상태를 변경할 수 있다. |

---

## 5. 문제 해결 및 기술적 도전

### ✅ 문제 사례 1: 특정 결제 서비스에 종속적인 구조 발생

> 결제 기능을 위해 Toss Payments에 종속적인 코드를 작성해 다른 결제 수단을 추가하거나
새로운 결제 과정이 도입될 시, 기존 코드의 재사용성과 확장성이 부족한 문제가 발생
>
>
> → 해결 방법: 템플릿 메서드 패턴, 전략 패턴을 적용해 재사용성 확보 및 중복을 최소화하고
> 공통 인터페이스를 추상화해 설계 품질을 향상시키고 유지 보수 및 변경 대응을 용이하게 만듬
>

### ✅ 문제 사례 2: 동기식 쿠폰 발급시 성능 저하

> 쿠폰 발급 과정에 동기식으로 구현하였을 때, 단기간에 쿠폰 발급 요청이 들어올 경우
성능이 저하되는 문제가 발생
>
>
> → 해결 방법: 기존의 동기적 방식을 Redis와 RabbitMQ를 적용한 비동기적 방식으로 교체하고
> Jmeter를 사용하여 평균 응답 시간을 비교 분석함. 초당 100건의 쿠폰 발급 요청 10회, 총 1000번의 조건으로 테스트 하였으며 최대 응답 시간(1619ms → 80ms) 및 평균 응답 시간(835ms → 42ms)을 개선함.
>

---

## 6. 협업 및 커뮤니케이션

- 프로젝트 담당 책임과 주 1회 오프라인 미팅 진행
- Github Project의 칸반 보드 기능을 활용하여 진행 상황 공유 및 스크럼 내용 정리
- 요구사항 변경에 따른 일정 조율 및 기능 범위 재협의 경험

---

## 7. 개발 결과 및 회고

### 📈 결과

- 전체 요구사항의 약 80% 구현 완료
- 전체 코드 테스트 커버리지 80% 이상 달성
- 2024.12 CNU SW 아카데미 정규과정 5기 우수상 수상
  (충남대학교 대학ㆍ기업협력형 SW 아카데미)

### 🤔 회고

- 비즈니스 로직 설계에 대한 개발 역량을 발전시킴
- Spring Framework의 다양한 의존성을 활용한 MSA 아키텍처 구현 경험을 쌓음
- 협업 도구를 활용해 팀원들과 더욱 원활히 소통할 수 있도록 문서화하는 경험을 쌓음
- 다음 프로젝트에서는 배운 지식을 보충하여 활용하는 것을 목표로 삼음