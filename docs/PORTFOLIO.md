# ğŸ¥ Hamalog - ë°±ì—”ë“œ í¬íŠ¸í´ë¦¬ì˜¤

> **í—¬ìŠ¤ì¼€ì–´ ë³µì•½ ê´€ë¦¬ ì‹œìŠ¤í…œ ë°±ì—”ë“œ ê°œë°œ**
>
> ë³µì•½ ìŠ¤ì¼€ì¤„, ë§ˆìŒ ì¼ê¸°, ë¶€ì‘ìš© ì¶”ì ì„ í†µí•© ê´€ë¦¬í•˜ëŠ” Spring Boot ê¸°ë°˜ REST API ì„œë²„

[![Java 21](https://img.shields.io/badge/Java-21-orange?logo=openjdk)](https://openjdk.org/projects/jdk/21/)
[![Spring Boot 3.4.5](https://img.shields.io/badge/Spring%20Boot-3.4.5-brightgreen?logo=springboot)](https://spring.io/projects/spring-boot)
[![MySQL 8.0](https://img.shields.io/badge/MySQL-8.0-blue?logo=mysql)](https://www.mysql.com/)
[![Redis 7](https://img.shields.io/badge/Redis-7-red?logo=redis)](https://redis.io/)

---

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [í•µì‹¬ ë‹´ë‹¹ ì‘ì—…](#2-í•µì‹¬-ë‹´ë‹¹-ì‘ì—…)
3. [ê¸°ìˆ ì  ë„ì „ê³¼ í•´ê²°](#3-ê¸°ìˆ ì -ë„ì „ê³¼-í•´ê²°)
4. [ì•„í‚¤í…ì²˜ í•˜ì´ë¼ì´íŠ¸](#4-ì•„í‚¤í…ì²˜-í•˜ì´ë¼ì´íŠ¸)
5. [í”„ë¡œì íŠ¸ ì„±ê³¼](#5-í”„ë¡œì íŠ¸-ì„±ê³¼)
6. [ë°°ìš´ ì ê³¼ ì„±ì¥](#6-ë°°ìš´-ì ê³¼-ì„±ì¥)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ ì†Œê°œ

**Hamalog**ëŠ” í™˜ìì˜ ë³µì•½ ì¼ì • ê´€ë¦¬, ë³µì•½ ê¸°ë¡ ì¶”ì , ë¶€ì‘ìš© ëª¨ë‹ˆí„°ë§, ë§ˆìŒ ì¼ê¸° ì‘ì„±ì„ ì§€ì›í•˜ëŠ” **í—¬ìŠ¤ì¼€ì–´ ë°±ì—”ë“œ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤. ì˜ë£Œ ë°ì´í„°ì˜ ë¯¼ê°ì„±ì„ ê³ ë ¤í•˜ì—¬ **ë³´ì•ˆê³¼ ë°ì´í„° ë¬´ê²°ì„±**ì„ ìµœìš°ì„ ìœ¼ë¡œ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

### 1.2 ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ë¶„ | ê¸°ìˆ  | ì„ íƒ ì´ìœ  |
|------|------|----------|
| **Language** | Java 21 | Virtual Thread, Pattern Matching ë“± ìµœì‹  ê¸°ëŠ¥ í™œìš© |
| **Framework** | Spring Boot 3.4.5 | ìƒì‚°ì„±, ìƒíƒœê³„, ê¸°ì—… í‘œì¤€ |
| **ORM** | Spring Data JPA + Hibernate | ê°ì²´ ì§€í–¥ì  ë°ì´í„° ì ‘ê·¼, ìƒì‚°ì„± |
| **Database** | MySQL 8.0 | ì•ˆì •ì„±, ACID ë³´ì¥, ì˜ë£Œ ë°ì´í„° ì í•© |
| **Cache** | Redis 7 | ë¶„ì‚° ìºì‹œ, ì„¸ì…˜ ê´€ë¦¬, Rate Limiting |
| **Security** | Spring Security + JWT | Stateless ì¸ì¦, ìˆ˜í‰ í™•ì¥ ìš©ì´ |
| **Migration** | Flyway | ë²„ì „ ê´€ë¦¬í˜• ìŠ¤í‚¤ë§ˆ ë§ˆì´ê·¸ë ˆì´ì…˜ |
| **Container** | Docker + Docker Compose | ì¼ê´€ëœ ê°œë°œ/ë°°í¬ í™˜ê²½ |
| **Monitoring** | Micrometer + Prometheus | ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ë° ëª¨ë‹ˆí„°ë§ |
| **Testing** | JUnit 5 + Mockito + ArchUnit | ë‹¨ìœ„/í†µí•©/ì•„í‚¤í…ì²˜ í…ŒìŠ¤íŠ¸ |

### 1.3 ê°œë°œ ê¸°ê°„ ë° ì—­í• 

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ê°œë°œ ê¸°ê°„** | 2025.08 ~ í˜„ì¬ (ì•½ 5ê°œì›”) |
| **ì—­í• ** | ë°±ì—”ë“œ ì „ë‹´ ê°œë°œ (1ì¸) |
| **ê¸°ì—¬ë„** | ì„¤ê³„, êµ¬í˜„, í…ŒìŠ¤íŠ¸, ë°°í¬, ë¬¸ì„œí™” 100% |

---

## 2. í•µì‹¬ ë‹´ë‹¹ ì‘ì—…

### 2.1 ì¸ì¦/ë³´ì•ˆ ì‹œìŠ¤í…œ êµ¬ì¶•

> **JWT + CSRF ì´ì¤‘ ë³´í˜¸**, **ë¦¬ì†ŒìŠ¤ ì†Œìœ ê¶Œ ê²€ì¦**, **Rate Limiting** ë“± ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ë³´ì•ˆ ì²´ê³„ êµ¬í˜„

| ê¸°ëŠ¥ | êµ¬í˜„ ë‚´ìš© |
|------|----------|
| JWT ì¸ì¦ | Access Token(15ë¶„) + Refresh Token(7ì¼) ê¸°ë°˜ Stateless ì¸ì¦ |
| CSRF ë°©ì–´ | Redis ê¸°ë°˜ CSRF í† í° ê´€ë¦¬ (60ë¶„ TTL) |
| Refresh Token Rotation | í† í° ì‚¬ìš© ì‹œ ìƒˆ í† í° ë°œê¸‰ + ê¸°ì¡´ í† í° ë¬´íš¨í™” |
| Rate Limiting | Redis Sorted Set ê¸°ë°˜ Sliding Window ì•Œê³ ë¦¬ì¦˜ |
| OAuth2 | ì¹´ì¹´ì˜¤ ì†Œì…œ ë¡œê·¸ì¸ í†µí•© |
| ì„¸ì…˜ ê´€ë¦¬ | ë‹¤ì¤‘ ë””ë°”ì´ìŠ¤ ë¡œê·¸ì¸ ì´ë ¥ ë° ì›ê²© ì„¸ì…˜ ì¢…ë£Œ |

### 2.2 ë³µì•½ ê´€ë¦¬ ë„ë©”ì¸

> ë³µì•½ ìŠ¤ì¼€ì¤„ CRUD, ì•Œë¦¼ ì‹œê°„ ê´€ë¦¬, ë³µì•½ ê¸°ë¡ ì¶”ì , ì´í–‰ë¥  í†µê³„

| ê¸°ëŠ¥ | êµ¬í˜„ ë‚´ìš© |
|------|----------|
| ìŠ¤ì¼€ì¤„ ê´€ë¦¬ | ì²˜ë°© ì •ë³´, ë³µìš© ì‹œê°„, ì•ŒëŒ íƒ€ì… ê´€ë¦¬ |
| ì´ë¯¸ì§€ ì—…ë¡œë“œ | ì•½ ì‚¬ì§„ ì²¨ë¶€ (Multipart, 5MB ì œí•œ) |
| ë³µì•½ ê¸°ë¡ | ê°œë³„/ë°°ì¹˜ ê¸°ë¡ ìƒì„± (ìµœëŒ€ 100ê±´) |
| í†µê³„ ë¶„ì„ | ì¼ë³„/ì£¼ë³„/ì›”ë³„ ì´í–‰ë¥ , ëˆ„ë½ ì¼ì ì¶”ì  |
| ê·¸ë£¹ ê´€ë¦¬ | ìŠ¤ì¼€ì¤„ ê·¸ë£¹í™” (ì•„ì¹¨ì•½, ì €ë…ì•½ ë“±) |

### 2.3 ë§ˆìŒ ì¼ê¸° ë„ë©”ì¸

> í…œí”Œë¦¿/ììœ  í˜•ì‹ ì¼ê¸°, ê¸°ë¶„ í†µê³„, ìº˜ë¦°ë” ì¡°íšŒ

| ê¸°ëŠ¥ | êµ¬í˜„ ë‚´ìš© |
|------|----------|
| ì¼ê¸° ì‘ì„± | í…œí”Œë¦¿(4ë‹¨ê³„ ì§ˆë¬¸) / ììœ  í˜•ì‹ ì„ íƒ |
| í•˜ë£¨ 1íšŒ ì œí•œ | ê°™ì€ ë‚ ì§œ ì¤‘ë³µ ì‘ì„± ë°©ì§€ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ |
| ê¸°ë¶„ í†µê³„ | ê¸°ë¶„ ë¶„í¬, ì—°ì† ì‘ì„±ì¼, ì‘ì„±ë¥  ë¶„ì„ |
| ìº˜ë¦°ë” ë·° | ì›”ë³„ ì‘ì„± í˜„í™© ë° ê¸°ë¶„ íƒ€ì… í‘œì‹œ |

### 2.4 ë¶€ì‘ìš© ì¶”ì  ë„ë©”ì¸

> ë¶€ì‘ìš© ê¸°ë¡, ì •ë„ í‰ê°€, ìµœê·¼ ê¸°ë¡ ìºì‹±

| ê¸°ëŠ¥ | êµ¬í˜„ ë‚´ìš© |
|------|----------|
| ë¶€ì‘ìš© ê¸°ë¡ | ë‹¤ì¤‘ ë¶€ì‘ìš© ë™ì‹œ ê¸°ë¡ (ì •ë„ 1-5ë‹¨ê³„) |
| ìµœê·¼ ì¡°íšŒ | Redis ìºì‹œ ê¸°ë°˜ ìµœê·¼ 5ê±´ ë¹ ë¥¸ ì¡°íšŒ |
| ëª©ë¡/ìƒì„¸ | í˜ì´ì§€ë„¤ì´ì…˜, ìƒì„¸ ì¡°íšŒ |

### 2.5 ì•Œë¦¼ ì‹œìŠ¤í…œ

> Redis Stream ê¸°ë°˜ ë¹„ë™ê¸° ë©”ì‹œì§€ í, FCM í‘¸ì‹œ ì•Œë¦¼

| ê¸°ëŠ¥ | êµ¬í˜„ ë‚´ìš© |
|------|----------|
| ë©”ì‹œì§€ í | Redis Stream Producer/Consumer íŒ¨í„´ |
| FCM ì—°ë™ | Firebase Cloud Messaging í‘¸ì‹œ ì•Œë¦¼ |
| ì¬ì‹œë„/DLQ | 3íšŒ ì¬ì‹œë„ í›„ Dead Letter Queue ì ì¬ |
| Discord ì•Œë¦¼ | DLQ ë°œìƒ ì‹œ ìš´ì˜íŒ€ Webhook ì•Œë¦¼ |
| ì•Œë¦¼ ì„¤ì • | ë³µì•½ ì•Œë¦¼, ì¼ê¸° ì•Œë¦¼, ë°©í•´ ê¸ˆì§€ ì‹œê°„ |

### 2.6 ë°ì´í„° ë‚´ë³´ë‚´ê¸°

> ì‚¬ìš©ì ë°ì´í„° JSON/CSV ë‚´ë³´ë‚´ê¸° (GDPR ëŒ€ì‘)

| ê¸°ëŠ¥ | êµ¬í˜„ ë‚´ìš© |
|------|----------|
| JSON Export | ì „ì²´ ë°ì´í„° êµ¬ì¡°í™” ë‚´ë³´ë‚´ê¸° |
| CSV Export | ë³µì•½ ê¸°ë¡ CSV (ì˜ì‚¬ ìƒë‹´ìš©) |

---

## 3. ê¸°ìˆ ì  ë„ì „ê³¼ í•´ê²°

### 3.1 SPA í™˜ê²½ì—ì„œì˜ CSRF ê³µê²© ë°©ì–´

#### ğŸ”´ ë¬¸ì œ ìƒí™©
JWTë§Œìœ¼ë¡œëŠ” CSRF(Cross-Site Request Forgery) ê³µê²©ì— ì·¨ì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì¿ í‚¤ì— í† í°ì„ ì €ì¥í•˜ëŠ” ê²½ìš°, ì•…ì˜ì ì¸ ì‚¬ì´íŠ¸ì—ì„œ ì¸ì¦ëœ ìš”ì²­ì„ ìœ„ì¡°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ğŸŸ¢ ì ìš© ê¸°ìˆ 
**JWT + CSRF ì´ì¤‘ ë³´í˜¸ íŒ¨í„´**ì„ ì±„íƒí–ˆìŠµë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Client (SPA)                             â”‚
â”‚  1. CSRF í† í° ìš”ì²­ (GET /auth/csrf-token)                        â”‚
â”‚  2. API ìš”ì²­ ì‹œ Authorization + X-CSRF-TOKEN í—¤ë” í¬í•¨           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Spring Security Filter Chain                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ CORS Filter â”‚â†’ â”‚ CSRF Filter â”‚â†’ â”‚ JWT Authentication      â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ (Redis)     â”‚  â”‚ Filter                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **CSRF í† í°**: Redisì— ì €ì¥ (60ë¶„ TTL), ìƒíƒœ ë³€ê²½ ìš”ì²­(POST/PUT/DELETE) ì‹œ ê²€ì¦
- **Refresh Token Rotation**: í† í° íƒˆì·¨ ì‹œ í”¼í•´ ìµœì†Œí™”

#### âœ… ê²°ê³¼
- CSRF ê³µê²© ì™„ì „ ì°¨ë‹¨
- Stateless ì•„í‚¤í…ì²˜ ìœ ì§€ (ìˆ˜í‰ í™•ì¥ ê°€ëŠ¥)
- í† í° íƒˆì·¨ ì‹œì—ë„ Rotationìœ¼ë¡œ í”¼í•´ ì‹œê°„ ìµœì†Œí™”

> ğŸ“„ [ADR-0002: JWT + CSRF ì´ì¤‘ ë³´í˜¸](./internal/adr/0002-jwt-csrf-dual-protection.md)

---

### 3.2 ë¦¬ì†ŒìŠ¤ ì†Œìœ ê¶Œ ê²€ì¦ì˜ ì½”ë“œ ì¤‘ë³µ ë¬¸ì œ

#### ğŸ”´ ë¬¸ì œ ìƒí™©
ëª¨ë“  APIì—ì„œ "ìš”ì²­ìê°€ í•´ë‹¹ ë¦¬ì†ŒìŠ¤ì˜ ì†Œìœ ìì¸ì§€" ê²€ì¦í•˜ëŠ” ì½”ë“œê°€ ì¤‘ë³µë˜ì—ˆìŠµë‹ˆë‹¤.

```java
// ëª¨ë“  ì„œë¹„ìŠ¤ ë©”ì„œë“œì—ì„œ ë°˜ë³µë˜ëŠ” íŒ¨í„´
Member member = memberRepository.findById(memberId)
    .orElseThrow(ErrorCode.MEMBER_NOT_FOUND::toException);
MedicationSchedule schedule = scheduleRepository.findById(scheduleId)
    .orElseThrow(ErrorCode.SCHEDULE_NOT_FOUND::toException);
if (!schedule.getMember().getMemberId().equals(member.getMemberId())) {
    throw ErrorCode.FORBIDDEN.toException();
}
```

#### ğŸŸ¢ ì ìš© ê¸°ìˆ 
**AOP ê¸°ë°˜ ì„ ì–¸ì  ì†Œìœ ê¶Œ ê²€ì¦** ì–´ë…¸í…Œì´ì…˜ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```java
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface RequireResourceOwnership {
    String resourceType();  // MEDICATION_SCHEDULE, MOOD_DIARY ë“±
    String idParam();       // ê²½ë¡œ ë³€ìˆ˜ëª…
}

// ì‚¬ìš© ì˜ˆì‹œ - í•œ ì¤„ë¡œ ì†Œìœ ê¶Œ ê²€ì¦ ì™„ë£Œ
@GetMapping("/{id}")
@RequireResourceOwnership(resourceType = "MEDICATION_SCHEDULE", idParam = "id")
public ResponseEntity<ScheduleResponse> getById(@PathVariable Long id) {
    return ResponseEntity.ok(service.findById(id));
}
```

#### âœ… ê²°ê³¼
- ê²€ì¦ ë¡œì§ ì¤‘ë³µ ì œê±° (ì•½ 200ì¤„ â†’ 1ì¤„)
- ê²€ì¦ ëˆ„ë½ ë°©ì§€ (ì»´íŒŒì¼ íƒ€ì„ ëª…ì‹œ)
- ê´€ì‹¬ì‚¬ ë¶„ë¦¬ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ â†” ë³´ì•ˆ ë¡œì§)

> ğŸ“„ [ADR-0003: AOP ê¸°ë°˜ íš¡ë‹¨ ê´€ì‹¬ì‚¬ ì²˜ë¦¬](./internal/adr/0003-aop-cross-cutting-concerns.md)

---

### 3.3 JPA N+1 ë¬¸ì œë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜

#### ğŸ”´ ë¬¸ì œ ìƒí™©
ë³µì•½ ìŠ¤ì¼€ì¤„ ëª©ë¡ ì¡°íšŒ ì‹œ ì—°ê´€ëœ Member, MedicationTime ì—”í‹°í‹°ë¥¼ ì¶”ê°€ë¡œ ì¡°íšŒí•˜ë©´ì„œ N+1 ì¿¼ë¦¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

```
// 10ê°œ ìŠ¤ì¼€ì¤„ ì¡°íšŒ ì‹œ
1 (ìŠ¤ì¼€ì¤„ ëª©ë¡) + 10 (Member) + 10 (MedicationTime) = 21ê°œ ì¿¼ë¦¬ ë°œìƒ
```

#### ğŸŸ¢ ì ìš© ê¸°ìˆ 
**ë³µí•© ì „ëµ**ìœ¼ë¡œ N+1 ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.

```java
// 1. @EntityGraphë¡œ ì—°ê´€ ì—”í‹°í‹° í•¨ê»˜ ì¡°íšŒ
@EntityGraph(attributePaths = {"member", "medicationTimes"})
List<MedicationSchedule> findAllByMember_MemberId(Long memberId);

// 2. DTO Projectionìœ¼ë¡œ í•„ìš”í•œ í•„ë“œë§Œ ì¡°íšŒ
@Query("SELECT new com.Hamalog.dto.medication.projection.MedicationScheduleProjection(" +
       "ms.medicationScheduleId, ms.member.memberId, ms.name, ...) " +
       "FROM MedicationSchedule ms WHERE ms.member.memberId = :memberId")
Page<MedicationScheduleProjection> findProjectionsByMemberId(@Param("memberId") Long memberId, Pageable pageable);

// 3. ë°°ì¹˜ ì¡°íšŒ (IN ì ˆ ì‚¬ìš©)
@Query("SELECT mr FROM MedicationRecord mr " +
       "JOIN FETCH mr.medicationSchedule ms " +
       "WHERE ms.medicationScheduleId IN :scheduleIds")
List<MedicationRecord> findAllByScheduleIds(@Param("scheduleIds") List<Long> scheduleIds);
```

#### âœ… ê²°ê³¼
- ì¿¼ë¦¬ ìˆ˜ 21ê°œ â†’ 1~2ê°œë¡œ ê°ì†Œ (95% ê°œì„ )
- ëª©ë¡ ì¡°íšŒ ì‘ë‹µ ì‹œê°„ ì•½ 70% ë‹¨ì¶•
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê°ì†Œ (ë¶ˆí•„ìš”í•œ í•„ë“œ ì œì™¸)

> ğŸ“„ [JPA ì„±ëŠ¥ ìµœì í™” ê°€ì´ë“œ](./internal/patterns/JPA-PERFORMANCE.md)

---

### 3.4 ë¯¼ê° ì˜ë£Œ ì •ë³´ì˜ ì•ˆì „í•œ ì €ì¥

#### ğŸ”´ ë¬¸ì œ ìƒí™©
ê°œì¸ì •ë³´ë³´í˜¸ë²•, ì˜ë£Œë²•ì— ë”°ë¼ ì „í™”ë²ˆí˜¸, ìƒë…„ì›”ì¼ ë“± ë¯¼ê° ì •ë³´ë¥¼ ì•”í˜¸í™”í•˜ì—¬ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤. DB ìˆ˜ì¤€ ì•”í˜¸í™”(TDE)ë§Œìœ¼ë¡œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ ë³´í˜¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.

#### ğŸŸ¢ ì ìš© ê¸°ìˆ 
**AES-256-GCM í•„ë“œ ë‹¨ìœ„ ì•”í˜¸í™”**ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```java
@Component
public class DataEncryptionUtil {
    
    private static final String TRANSFORMATION = "AES/GCM/NoPadding";
    private static final int GCM_IV_LENGTH = 12;
    private static final int GCM_TAG_LENGTH = 16;
    
    public String encrypt(String plainText) {
        // IV(Initialization Vector) ë¬´ì‘ìœ„ ìƒì„±
        byte[] iv = new byte[GCM_IV_LENGTH];
        secureRandom.nextBytes(iv);
        
        // GCM ëª¨ë“œë¡œ ì¸ì¦ íƒœê·¸ í¬í•¨ ì•”í˜¸í™”
        Cipher cipher = Cipher.getInstance(TRANSFORMATION);
        GCMParameterSpec parameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, iv);
        cipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);
        
        byte[] encrypted = cipher.doFinal(plainText.getBytes(UTF_8));
        // IV + ì•”í˜¸ë¬¸ì„ í•©ì³ì„œ Base64 ì¸ì½”ë”©
        return Base64.getEncoder().encodeToString(combine(iv, encrypted));
    }
}
```

#### âœ… ê²°ê³¼
- ê°œì¸ì •ë³´ë³´í˜¸ë²• ì•”í˜¸í™” ìš”ê±´ ì¶©ì¡±
- DB íƒˆì·¨ ì‹œì—ë„ ë³µí˜¸í™” ë¶ˆê°€ (í‚¤ ë¶„ë¦¬ ì €ì¥)
- GCM ëª¨ë“œë¡œ ë¬´ê²°ì„± ê²€ì¦ê¹Œì§€ ë³´ì¥

> ğŸ“„ [ADR-0006: ë¯¼ê° ì •ë³´ AES ì•”í˜¸í™”](./internal/adr/0006-sensitive-data-encryption.md)

---

### 3.5 ë™ì‹œì„± ë¬¸ì œì™€ ë°ì´í„° ì •í•©ì„±

#### ğŸ”´ ë¬¸ì œ ìƒí™©
ì—¬ëŸ¬ ë””ë°”ì´ìŠ¤ì—ì„œ ë™ì‹œì— ê°™ì€ ë³µì•½ ê¸°ë¡ì„ ìˆ˜ì •í•  ë•Œ **Lost Update** ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ğŸŸ¢ ì ìš© ê¸°ìˆ 
**ë‚™ê´€ì  ë½ + ìë™ ì¬ì‹œë„ íŒ¨í„´**ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.

```java
// Entityì— Version í•„ë“œ ì¶”ê°€
@Entity
public class MedicationRecord {
    @Version
    private Long version;
}

// ì¬ì‹œë„ ì–´ë…¸í…Œì´ì…˜ (ì»¤ìŠ¤í…€ AOP)
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface Retryable {
    int maxAttempts() default 3;
    long delay() default 1000;
    double backoffMultiplier() default 1.5;
}

// ì‚¬ìš© ì˜ˆì‹œ
@Retryable(maxAttempts = 3, delay = 500)
@Transactional
public void updateRecord(UpdateRequest request) {
    // ë‚™ê´€ì  ë½ ì¶©ëŒ ì‹œ ìë™ìœ¼ë¡œ 3íšŒê¹Œì§€ ì¬ì‹œë„
}
```

#### âœ… ê²°ê³¼
- ë™ì‹œ ìˆ˜ì • ì¶©ëŒ ê°ì§€ ë° ìë™ ë³µêµ¬
- ë°ì´í„° ì •í•©ì„± ë³´ì¥
- ì‚¬ìš©ì ê²½í—˜ ê°œì„  (ëŒ€ë¶€ë¶„ ì¬ì‹œë„ë¡œ ì„±ê³µ)

---

### 3.6 ì•Œë¦¼ ë°œì†¡ì˜ ì‘ë‹µ ì‹œê°„ ì˜í–¥

#### ğŸ”´ ë¬¸ì œ ìƒí™©
FCM í‘¸ì‹œ ì•Œë¦¼ì„ ë™ê¸°ë¡œ ë°œì†¡í•˜ë©´ ì™¸ë¶€ API í˜¸ì¶œë¡œ ì¸í•´ API ì‘ë‹µ ì‹œê°„ì´ ì¦ê°€í•©ë‹ˆë‹¤ (í‰ê·  200~500ms ì¶”ê°€).

#### ğŸŸ¢ ì ìš© ê¸°ìˆ 
**Redis Stream ê¸°ë°˜ ë¹„ë™ê¸° ë©”ì‹œì§€ í**ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Service      â”‚â”€â”€â”€â”€â–¶â”‚  Redis Stream   â”‚â”€â”€â”€â”€â–¶â”‚   Consumer      â”‚
â”‚   (Producer)    â”‚     â”‚  (Message Queue)â”‚     â”‚   (FCM ë°œì†¡)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                              â”‚
   ì¦‰ì‹œ ë°˜í™˜                                      ë¹„ë™ê¸° ì²˜ë¦¬
   (10ms ì´í•˜)                                   (ë³„ë„ ìŠ¤ë ˆë“œ)
                                                      â”‚
                               â–¼ (ì‹¤íŒ¨ ì‹œ)            â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  Dead Letter    â”‚â”€â”€â”€â”€â–¶â”‚  Discord Alert  â”‚
                        â”‚  Queue (DLQ)    â”‚     â”‚  (Webhook)      â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Redis Stream**: ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ Redis í™œìš© (ì¶”ê°€ ì¸í”„ë¼ ë¶ˆí•„ìš”)
- **ì¬ì‹œë„ ë¡œì§**: 3íšŒ ì¬ì‹œë„ í›„ DLQ ì ì¬
- **Discord ì•Œë¦¼**: ì‹¤íŒ¨ ì‹œ ìš´ì˜íŒ€ ì¦‰ì‹œ ì¸ì§€

#### âœ… ê²°ê³¼
- API ì‘ë‹µ ì‹œê°„ì—ì„œ ì•Œë¦¼ ë°œì†¡ ì‹œê°„ ì œê±°
- ì•Œë¦¼ ë°œì†¡ ì‹¤íŒ¨ ì‹œì—ë„ API ì„±ê³µ ì‘ë‹µ
- DLQë¡œ ì‹¤íŒ¨ ë©”ì‹œì§€ ì¶”ì  ë° ì¬ì²˜ë¦¬ ê°€ëŠ¥

> ğŸ“„ [ADR-0007: Redis Stream ë©”ì‹œì§€ í](./internal/adr/0007-message-queue-redis-stream.md)

---

### 3.7 Redis ìºì‹œ ì¼ê´€ì„± ë¬¸ì œ

#### ğŸ”´ ë¬¸ì œ ìƒí™©
ë°ì´í„° ìˆ˜ì • ì‹œ ìºì‹œì™€ DB ê°„ ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ë¶„ì‚° í™˜ê²½ì—ì„œ ìºì‹œ ë¬´íš¨í™” íƒ€ì´ë°ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

#### ğŸŸ¢ ì ìš© ê¸°ìˆ 
**Cache-Aside íŒ¨í„´ + ì„ ì œì  ë¬´íš¨í™”** ì „ëµì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.

```java
// ì¡°íšŒ: ìºì‹œ ìš°ì„ , ì—†ìœ¼ë©´ DB ì¡°íšŒ í›„ ìºì‹±
@Cacheable(value = "memberProfile", key = "#memberId")
public MemberProfileResponse getProfile(Long memberId) {
    return memberRepository.findById(memberId)
        .map(MemberProfileResponse::from)
        .orElseThrow(ErrorCode.MEMBER_NOT_FOUND::toException);
}

// ìˆ˜ì •: DB ì—…ë°ì´íŠ¸ í›„ ìºì‹œ ë¬´íš¨í™”
@CacheEvict(value = "memberProfile", key = "#memberId")
@Transactional
public MemberProfileResponse updateProfile(Long memberId, UpdateRequest request) {
    // 1. DB ì—…ë°ì´íŠ¸
    // 2. @CacheEvictë¡œ ìºì‹œ ìë™ ë¬´íš¨í™”
}
```

| ìºì‹œëª… | TTL | ìš©ë„ |
|--------|-----|------|
| `memberCache` | 5ë¶„ | ì¸ì¦ìš© íšŒì› ì •ë³´ |
| `memberProfile` | 1ì‹œê°„ | íšŒì› í”„ë¡œí•„ |
| `medicationStats` | 30ë¶„ | ë³µì•½ í†µê³„ |
| `diaryStats` | 30ë¶„ | ì¼ê¸° í†µê³„ |

#### âœ… ê²°ê³¼
- DB ë¶€í•˜ 70% ì´ìƒ ê°ì†Œ (ë°˜ë³µ ì¡°íšŒ ìºì‹±)
- ìºì‹œ-DB ì¼ê´€ì„± ë³´ì¥
- TTL ê¸°ë°˜ ìë™ ê°±ì‹ ìœ¼ë¡œ ì˜¤ë˜ëœ ë°ì´í„° ë°©ì§€

> ğŸ“„ [ADR-0005: Redis ìºì‹œ ì „ëµ](./internal/adr/0005-redis-cache-strategy.md)

---

## 4. ì•„í‚¤í…ì²˜ í•˜ì´ë¼ì´íŠ¸

### 4.1 ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Presentation Layer                         â”‚
â”‚  Controller â”€ @RestController, @Valid, @RequireResourceOwnership â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Application Layer                          â”‚
â”‚  Service â”€ @Transactional, @Cacheable, @Retryable               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Domain Layer                              â”‚
â”‚  Entity â”€ JPA, @Version (ë‚™ê´€ì  ë½), Domain Event                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Infrastructure Layer                         â”‚
â”‚  Repository â”€ Spring Data JPA, Redis, File Storage              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Zero Trust ë°°í¬ ì•„í‚¤í…ì²˜

```
ì‚¬ìš©ì â†’ Cloudflare (WAF/DDoS) â†’ Cloudflare Tunnel â†’ Nginx â†’ Spring Boot
                                        â”‚
                              ì™¸ë¶€ í¬íŠ¸ ë…¸ì¶œ ì—†ìŒ
                              (ë³´ì•ˆ í„°ë„ë§Œ í—ˆìš©)
```

- **Cloudflare**: WAF, DDoS ë°©ì–´, SSL ì¢…ë£Œ
- **Cloudflare Tunnel**: ì¸ë°”ìš´ë“œ í¬íŠ¸ ì—†ì´ ë³´ì•ˆ ì—°ê²°
- **Nginx**: ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ, ì •ì  ìì› ìºì‹±

### 4.3 AOP ê¸°ë°˜ íš¡ë‹¨ ê´€ì‹¬ì‚¬ ë¶„ë¦¬

| Aspect | ì ìš© ëŒ€ìƒ | ì—­í•  |
|--------|-----------|------|
| `ResourceOwnershipAspect` | `@RequireResourceOwnership` | ë¦¬ì†ŒìŠ¤ ì†Œìœ ê¶Œ ê²€ì¦ |
| `ApiLoggingAspect` | `@RestController` | API ìš”ì²­/ì‘ë‹µ ë¡œê¹… |
| `PerformanceMonitoringAspect` | Service Layer | ì‹¤í–‰ ì‹œê°„ ì¸¡ì •, Prometheus ë©”íŠ¸ë¦­ |
| `BusinessAuditAspect` | create/update/delete ë©”ì„œë“œ | ë¹„ì¦ˆë‹ˆìŠ¤ ê°ì‚¬ ë¡œê¹… |
| `RetryAspect` | `@Retryable` | ë‚™ê´€ì  ë½ ì¬ì‹œë„ |
| `CachingAspect` | `@Cacheable` | Redis ìºì‹± |

### 4.4 ë¡œê·¸ ë¶„ë¦¬ ì „ëµ

```
logs/
â”œâ”€â”€ application.log     # ì¼ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
â”œâ”€â”€ security.log        # ì¸ì¦/ì¸ê°€ ê´€ë ¨ ë¡œê·¸
â”œâ”€â”€ audit.log           # ë¹„ì¦ˆë‹ˆìŠ¤ ê°ì‚¬ ë¡œê·¸ (CRUD ì´ë ¥)
â””â”€â”€ performance.log     # ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ë¡œê·¸ (ì‹¤í–‰ ì‹œê°„)
```

- **JSON í¬ë§·**: Logstash ì—°ë™ ê°€ëŠ¥ (ELK Stack)
- **traceId**: ìš”ì²­ë³„ ì¶”ì  IDë¡œ ìƒê´€ê´€ê³„ ë¶„ì„

### 4.5 í…ŒìŠ¤íŠ¸ ì „ëµ

| í…ŒìŠ¤íŠ¸ ìœ í˜• | ë„êµ¬ | ëª©ì  |
|-------------|------|------|
| **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸** | JUnit 5 + Mockito | ì„œë¹„ìŠ¤ ë¡œì§ ê²€ì¦ |
| **í†µí•© í…ŒìŠ¤íŠ¸** | @SpringBootTest | ë ˆì´ì–´ ê°„ ì—°ë™ ê²€ì¦ |
| **ì•„í‚¤í…ì²˜ í…ŒìŠ¤íŠ¸** | ArchUnit | ë ˆì´ì–´ ì˜ì¡´ì„± ê·œì¹™ ê°•ì œ |
| **N+1 í…ŒìŠ¤íŠ¸** | ì»¤ìŠ¤í…€ í…ŒìŠ¤íŠ¸ | JPA ì¿¼ë¦¬ ìµœì í™” ê²€ì¦ |
| **E2E í…ŒìŠ¤íŠ¸** | RestAssured | API ì „ì²´ íë¦„ ê²€ì¦ |

```java
// ArchUnit ì˜ˆì‹œ - ë ˆì´ì–´ ì˜ì¡´ì„± ê·œì¹™
@ArchTest
static final ArchRule service_should_not_depend_on_controller =
    noClasses()
        .that().resideInAPackage("..service..")
        .should().dependOnClassesThat().resideInAPackage("..controller..");
```

---

## 5. í”„ë¡œì íŠ¸ ì„±ê³¼

### 5.1 ì •ëŸ‰ì  ì§€í‘œ

| ì§€í‘œ | ìˆ˜ì¹˜ |
|------|------|
| **API ì—”ë“œí¬ì¸íŠ¸** | 50+ ê°œ |
| **í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤** | 1,300+ ê°œ |
| **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€** | 80%+ (JaCoCo ê¸°ì¤€) |
| **ADR ë¬¸ì„œ** | 7ê°œ (ì£¼ìš” ì„¤ê³„ ê²°ì • ë¬¸ì„œí™”) |
| **íŒ¨í„´ ê°€ì´ë“œ** | 6ê°œ (ë³´ì•ˆ, ìºì‹±, JPA, ì—ëŸ¬ì²˜ë¦¬ ë“±) |

### 5.2 API í˜„í™©

| ë„ë©”ì¸ | ì—”ë“œí¬ì¸íŠ¸ ìˆ˜ | ì£¼ìš” ê¸°ëŠ¥ |
|--------|--------------|----------|
| ì¸ì¦ (`/auth`, `/oauth2`) | 13ê°œ | ë¡œê·¸ì¸, í† í°, ì„¸ì…˜, OAuth2 |
| íšŒì› (`/member`) | 3ê°œ | í”„ë¡œí•„, ë¹„ë°€ë²ˆí˜¸ |
| ë³µì•½ ìŠ¤ì¼€ì¤„ (`/medication-schedule`) | 12ê°œ | CRUD, ê²€ìƒ‰, ì´ë¯¸ì§€ |
| ë³µì•½ ê¸°ë¡ (`/medication-record`) | 7ê°œ | CRUD, ë°°ì¹˜ |
| ë³µì•½ í†µê³„ (`/medication-stats`) | 2ê°œ | ì´í–‰ë¥ , ìš”ì•½ |
| ë³µì•½ ê·¸ë£¹ (`/medication-group`) | 5ê°œ | CRUD |
| ë¶€ì‘ìš© (`/side-effect`) | 5ê°œ | CRUD, ìºì‹œ |
| ë§ˆìŒ ì¼ê¸° (`/mood-diary`) | 9ê°œ | CRUD, í†µê³„, ìº˜ë¦°ë” |
| ë‚´ë³´ë‚´ê¸° (`/export`) | 3ê°œ | JSON, CSV |
| ì•Œë¦¼ (`/notification`) | 6ê°œ | ì„¤ì •, FCM í† í° |

### 5.3 ë¬¸ì„œí™” í˜„í™©

| ë¬¸ì„œ ìœ í˜• | ê°œìˆ˜ | ëª©ì  |
|----------|------|------|
| **ADR** | 7ê°œ | ì•„í‚¤í…ì²˜ ê²°ì • ê·¼ê±° ê¸°ë¡ |
| **íŒ¨í„´ ê°€ì´ë“œ** | 6ê°œ | êµ¬í˜„ í‘œì¤€ ë° ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ |
| **API ëª…ì„¸ì„œ** | 900+ ì¤„ | í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ ê°€ì´ë“œ |
| **ì½”ë”© ì»¨ë²¤ì…˜** | 400+ ì¤„ | ì½”ë“œ ìŠ¤íƒ€ì¼ í†µì¼ |

---

## 6. ë°°ìš´ ì ê³¼ ì„±ì¥

### 6.1 ê¸°ìˆ ì  ì„±ì¥

| ì˜ì—­ | ë°°ìš´ ì  |
|------|---------|
| **ë³´ì•ˆ** | JWT + CSRF ì´ì¤‘ ë³´í˜¸, Refresh Token Rotationì˜ ì¤‘ìš”ì„± ì´í•´ |
| **ì„±ëŠ¥** | N+1 ë¬¸ì œ í•´ê²°, ìºì‹± ì „ëµ, ë¹„ë™ê¸° ì²˜ë¦¬ì˜ ì‹¤ë¬´ ì ìš© |
| **ì„¤ê³„** | AOPë¥¼ í™œìš©í•œ íš¡ë‹¨ ê´€ì‹¬ì‚¬ ë¶„ë¦¬, ì„ ì–¸ì  í”„ë¡œê·¸ë˜ë°ì˜ ì¥ì  |
| **í…ŒìŠ¤íŠ¸** | ArchUnitì„ í†µí•œ ì•„í‚¤í…ì²˜ ê·œì¹™ ê°•ì œ, í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ ì´í•´ |
| **ìš´ì˜** | ë¡œê·¸ ë¶„ë¦¬, traceId ê¸°ë°˜ ì¶”ì , Prometheus ë©”íŠ¸ë¦­ ìˆ˜ì§‘ |

### 6.2 ì„¤ê³„ ì² í•™

1. **ë³´ì•ˆì€ ê¸°ë³¸ê°’**: ëª¨ë“  APIëŠ” ì¸ì¦/ì¸ê°€ê°€ ê¸°ë³¸, ì˜ˆì™¸ ê²½ë¡œë§Œ ëª…ì‹œì  í—ˆìš©
2. **ì„ ì–¸ì  í”„ë¡œê·¸ë˜ë°**: ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì˜ë„ ëª…ì‹œ, êµ¬í˜„ì€ AOPê°€ ë‹´ë‹¹
3. **ë¬¸ì„œí™”ëŠ” ì½”ë“œì˜ ì¼ë¶€**: ADRë¡œ ê²°ì • ê·¼ê±° ê¸°ë¡, íŒ¨í„´ ê°€ì´ë“œë¡œ í‘œì¤€í™”
4. **í…ŒìŠ¤íŠ¸ëŠ” ì„¤ê³„ì˜ ì¼ë¶€**: í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš´ ì½”ë“œëŠ” ì„¤ê³„ê°€ ì˜ëª»ëœ ê²ƒ

### 6.3 í–¥í›„ ê°œì„  ë°©í–¥

| ì˜ì—­ | ê°œì„  ê³„íš |
|------|----------|
| **ì„±ëŠ¥** | QueryDSL ë„ì…, ë³µì¡í•œ ë™ì  ì¿¼ë¦¬ ìµœì í™” |
| **í™•ì¥ì„±** | ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë¶„ë¦¬ ì¤€ë¹„ (ë„ë©”ì¸ ì´ë²¤íŠ¸ ê¸°ë°˜) |
| **ëª¨ë‹ˆí„°ë§** | Grafana ëŒ€ì‹œë³´ë“œ êµ¬ì¶•, ì•Œë¦¼ ì„ê³„ê°’ ì„¤ì • |
| **í…ŒìŠ¤íŠ¸** | ì„±ëŠ¥ í…ŒìŠ¤íŠ¸(JMeter), ê³„ì•½ í…ŒìŠ¤íŠ¸(Pact) ë„ì… |

---

## ğŸ“ ì°¸ê³  ìë£Œ

| ë¬¸ì„œ | ë§í¬ |
|------|------|
| API ëª…ì„¸ì„œ | [API-specification.md](./shared/API-specification.md) |
| í”„ë¡œì íŠ¸ êµ¬ì¡° | [Project-Structure.md](./shared/Project-Structure.md) |
| ì½”ë”© ì»¨ë²¤ì…˜ | [CODING-CONVENTIONS.md](./internal/CODING-CONVENTIONS.md) |
| ADR ëª©ë¡ | [docs/internal/adr/](./internal/adr/) |
| íŒ¨í„´ ê°€ì´ë“œ | [docs/internal/patterns/](./internal/patterns/) |

---

> ğŸ“§ **Contact**: [GitHub](https://github.com/daemin-kim)

