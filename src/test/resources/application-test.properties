# Test Database Configuration
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
logging.level.org.hibernate.SQL=warn
logging.level.org.hibernate.type.descriptor.sql=warn

# Transaction Configuration for Tests
# Set default transaction timeout to 30 seconds to prevent infinite transactions in tests
spring.transaction.default-timeout=30

# Disable AOP for tests to avoid interference
app.aop.global-enabled=false
app.aop.api-logging.enabled=false
app.aop.performance.enabled=false
app.aop.audit.enabled=false
app.aop.retry.enabled=false
app.aop.cache.enabled=false

jwt.secret=xcrVqYlPMcLeEoEX+h8vjxZ97lS6AETwQJXJSLJ/h8g=
jwt.expiry=3600000

spring.security.oauth2.client.registration.kakao.client-id=dummy-client-id-for-test
spring.security.oauth2.client.registration.kakao.client-secret=dummy-client-secret-for-test
spring.security.oauth2.client.registration.kakao.redirect-uri=http://localhost:8080/api/auth/kakao/callback

hamalog.encryption.key=+ZFRGoRl5CElrJfikdx1TmzQ3U8OJ+J6im5OMjuvsqE=
hamalog.oauth2.redirect-uri=http://localhost:3000/oauth/kakao

# Disable Spring Cloud Vault for tests to prevent CompatibilityNotMetException
spring.cloud.vault.enabled=false
hamalog.vault.enabled=false

# Disable Spring Cloud configuration completely
spring.cloud.config.enabled=false
spring.cloud.bootstrap.enabled=false
spring.cloud.service-registry.auto-registration.enabled=false
spring.cloud.discovery.enabled=false
spring.cloud.loadbalancer.enabled=false
spring.cloud.consul.enabled=false
spring.cloud.kubernetes.enabled=false
spring.cloud.gateway.enabled=false

# Disable Spring Cloud auto configurations
spring.autoconfigure.exclude=org.springframework.cloud.vault.config.VaultAutoConfiguration

# Disable Spring Cloud compatibility verification entirely
spring.cloud.compatibility-verifier.enabled=false
spring.cloud.config.fail-fast=false