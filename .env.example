# Hamalog Environment Variables Template
# Copy this file to .env.prod (or .env.dev) and fill in actual values
# DO NOT commit filled env files to Git

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_NAME=Hamalog
DB_USERNAME=hamalog_user
DB_PASSWORD=<GENERATE_STRONG_PASSWORD>
MYSQL_ROOT_PASSWORD=<GENERATE_STRONG_PASSWORD>
SPRING_DATASOURCE_USERNAME=hamalog_user
SPRING_DATASOURCE_PASSWORD=<GENERATE_STRONG_PASSWORD>
SPRING_DATASOURCE_URL=jdbc:mysql://mysql-hamalog:3306/Hamalog?useSSL=true&requireSSL=true&characterEncoding=UTF-8&serverTimezone=UTC

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
# Generate with: openssl rand -base64 32
JWT_SECRET=<GENERATE_BASE64_256BIT_KEY>
JWT_EXPIRY=900000
JWT_REFRESH_TOKEN_EXPIRY=604800000

# =============================================================================
# DATA ENCRYPTION KEY (AES-256)
# =============================================================================
# Generate with: openssl rand -base64 32
HAMALOG_ENCRYPTION_KEY=<GENERATE_BASE64_256BIT_KEY>

# =============================================================================
# KAKAO OAUTH2 CONFIGURATION
# =============================================================================
# Get from Kakao Developers Console: https://developers.kakao.com
KAKAO_CLIENT_ID=<YOUR_KAKAO_CLIENT_ID>
KAKAO_CLIENT_SECRET=<YOUR_KAKAO_CLIENT_SECRET>
KAKAO_REDIRECT_URI=https://api.hamalog.shop/oauth2/auth/kakao/callback

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
SPRING_DATA_REDIS_HOST=redis
SPRING_DATA_REDIS_PORT=6379
SPRING_DATA_REDIS_PASSWORD=<GENERATE_STRONG_PASSWORD_OR_EMPTY>

# =============================================================================
# SPRING PROFILE
# =============================================================================
SPRING_PROFILES_ACTIVE=prod

# =============================================================================
# FRONTEND & CORS CONFIGURATION
# =============================================================================
FRONTEND_URL=https://api.hamalog.shop
ALLOWED_ORIGINS=https://api.hamalog.shop,http://localhost:3000
RN_APP_REDIRECT_SCHEME=hamalog-rn

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
FILE_UPLOAD_DIR=/data/hamalog/uploads
FILE_UPLOAD_MAX_SIZE=5242880

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_DIR=/var/log/hamalog

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
BOT_PROTECTION_ENABLED=true
BOT_PROTECTION_LOG_BLOCKED=true
TRUSTED_PROXIES=127.0.0.1/32,::1/128,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# =============================================================================
# RATE LIMITING (OPTIONAL)
# =============================================================================
RATE_LIMIT_API_PER_MINUTE=60
RATE_LIMIT_AUTH_PER_MINUTE=5
RATE_LIMIT_API_PER_HOUR=1000
RATE_LIMIT_AUTH_PER_HOUR=20

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. Generate strong passwords with at least 32 characters
# 2. Use different passwords for each service
# 3. Rotate credentials every 3-6 months
# 4. Never commit filled env files to Git
# 5. Use Docker secrets/CI secrets for production
