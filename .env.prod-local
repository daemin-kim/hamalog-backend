# Production-Like Local Environment Configuration for Hamalog
# This file provides production-level security and settings for local development
# Usage: Use with docker-compose.yml for production parity testing
# 
# ‚ö†Ô∏è  IMPORTANT: This file contains production-strength passwords and settings
#     but is safe for local development (localhost URLs, self-signed certs)

# =============================================================================
# DATABASE CONFIGURATION (Production-strength passwords for local testing)
# =============================================================================
DB_NAME=Hamalog
DB_USERNAME=hamalog_prod_user
DB_PASSWORD=H@m@l0g_L0c@l_Pr0d_DB_P@ssw0rd_2025!_V3ry_Str0ng
MYSQL_ROOT_PASSWORD=MySql_L0c@l_R00t_Ultra_Str0ng_P@ssw0rd_2025!_S3cur3
SPRING_DATASOURCE_USERNAME=hamalog_prod_user
SPRING_DATASOURCE_PASSWORD=H@m@l0g_L0c@l_Pr0d_DB_P@ssw0rd_2025!_V3ry_Str0ng
SPRING_DATASOURCE_URL=jdbc:mysql://mysql-hamalog:3306/Hamalog?useSSL=false&allowPublicKeyRetrieval=true&characterEncoding=UTF-8&serverTimezone=UTC

# =============================================================================
# JWT CONFIGURATION (Production-strength keys)
# =============================================================================
# Base64-encoded 256-bit key for production-level security
JWT_SECRET=UzUuJwKK4vLnvk5r7yAgdNP/sa1dL87febZhlayPGjI8A2xK9mN0pQ7vR5sT8wY1=
JWT_EXPIRY=3600000

# =============================================================================
# DATA ENCRYPTION (Production-strength encryption key)
# =============================================================================
# AES-256 encryption key for sensitive data (Base64-encoded)
HAMALOG_ENCRYPTION_KEY=9v+EyAhNyWu2hebIO0XoqUH1gwdoyyHKxcIKC2+A6aM3K7pL8nQ5rS6tU9xW1zA2=

# =============================================================================
# KAKAO OAUTH2 CONFIGURATION (Production values for testing)
# =============================================================================
KAKAO_CLIENT_ID=86f21dfff5d2e9e3e1f76167df979268
KAKAO_CLIENT_SECRET=ScyrNoUeoFLrCNS5MB7CF2kKxUVzaymx
# Local development redirect URI (production uses https://your-domain.com)
KAKAO_REDIRECT_URI=http://localhost:8080/api/auth/kakao/callback

# =============================================================================
# SPRING CONFIGURATION
# =============================================================================
SPRING_PROFILES_ACTIVE=prod

# =============================================================================
# FRONTEND & CORS CONFIGURATION (Local development URLs)
# =============================================================================
FRONTEND_URL=http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
SPRING_DATA_REDIS_HOST=redis
SPRING_DATA_REDIS_PORT=6379
SPRING_DATA_REDIS_PASSWORD=

# =============================================================================
# VAULT CONFIGURATION (Local Vault instance)
# =============================================================================
HAMALOG_VAULT_ENABLED=true
HAMALOG_VAULT_URI=http://vault:8200
HAMALOG_VAULT_TOKEN=hamalog-dev-token
HAMALOG_VAULT_KV_BACKEND=secret
HAMALOG_VAULT_KV_DEFAULT_CONTEXT=hamalog

# =============================================================================
# FILE STORAGE CONFIGURATION
# =============================================================================
UPLOAD_DIR=/data/hamalog/images
LOG_DIR=/app/logs

# =============================================================================
# SSL/TLS CONFIGURATION (For future HTTPS local testing)
# =============================================================================
# SSL_ENABLED=false (disabled for local, but can be enabled with self-signed certs)
# SSL_KEY_STORE=/app/ssl/keystore.p12
# SSL_KEY_STORE_PASSWORD=hamalog-local-ssl-password
# SSL_KEY_ALIAS=hamalog-local

# =============================================================================
# PERFORMANCE & MONITORING CONFIGURATION (Production-like settings)
# =============================================================================
# Database connection pool settings (production values)
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=20
SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=5
SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=20000

# Tomcat production settings for local testing
SERVER_TOMCAT_MAX_CONNECTIONS=8192
SERVER_TOMCAT_ACCEPT_COUNT=100
SERVER_TOMCAT_THREADS_MAX=200
SERVER_TOMCAT_THREADS_MIN_SPARE=10

# =============================================================================
# SECURITY HEADERS (Production-like security)
# =============================================================================
# These will be handled by application-prod.properties when SPRING_PROFILES_ACTIVE=prod
# server.servlet.session.cookie.secure=true (requires HTTPS)
# server.servlet.session.cookie.http-only=true
# server.servlet.session.cookie.same-site=strict

# =============================================================================
# DEVELOPMENT AIDS (Local-specific)
# =============================================================================
# Enable detailed logging for local debugging (can be disabled)
LOGGING_LEVEL_HAMALOG=DEBUG
LOGGING_LEVEL_VAULT=INFO
LOGGING_LEVEL_SECURITY=DEBUG

# Health check and monitoring
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics

# =============================================================================
# NOTES FOR PRODUCTION PARITY
# =============================================================================
# ‚úÖ This file provides production-level security with local development convenience
# ‚úÖ Passwords are production-strength but safe for local use
# ‚úÖ All sensitive data uses proper encryption and strong keys
# ‚úÖ Database and Redis configurations match production settings
# ‚úÖ Performance settings mirror production for realistic testing
# 
# üîÑ To convert to actual production:
#    1. Replace localhost URLs with actual domain names
#    2. Enable SSL/TLS with real certificates
#    3. Update KAKAO_REDIRECT_URI with production domain
#    4. Consider using actual production secrets from Vault
#    5. Set server.servlet.session.cookie.secure=true for HTTPS
#
# üöÄ Usage:
#    docker-compose --env-file .env.prod-local up -d